(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{8731:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/details",function(){return r(9947)}])},9947:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var n=r(7568),a=r(1438),s=r(2951),i=r(8029),o=r(460),u=r(7582),c=r(5893),h=r(7294),l=r(2256),d=r(8005),m=r(967),p=r(3544),g=r(4148),f=r(1508),Z=r(4111),v=r(4924),b=r(5424),j=r(416),w=r(8156),x=r(6215),C=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r),e=t.apply(this,arguments),(0,v.Z)((0,Z.Z)(e),"state",{value:"",errorMessage:"",loading:!1});var s=(0,Z.Z)(e);return(0,v.Z)((0,Z.Z)(e),"onSubmit",function(){var e=(0,n.Z)((function(e){var t,r,n;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:e.preventDefault(),t=(0,g.Z)(s.props.address),s.setState({loading:!0,errorMessage:""}),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,f.Z.eth.getAccounts()];case 2:return r=a.sent(),[4,t.methods.contribute().send({from:r[0],value:f.Z.utils.toWei(s.state.value,"ether")})];case 3:return a.sent(),x.Router.replaceRoute("/campaigns/".concat(s.props.address)),[3,5];case 4:return n=a.sent(),s.setState({errorMessage:n.message}),[3,5];case 5:return s.setState({loading:!1,value:""}),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),e}return(0,s.Z)(r,[{key:"render",value:function(){var e=this;return(0,c.jsxs)(b.Z,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,children:[(0,c.jsxs)(b.Z.Field,{children:[(0,c.jsx)("label",{children:"Amount to contribute"}),(0,c.jsx)(j.Z,{value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})},label:"ETH",labelPosition:"right"})]}),(0,c.jsx)(m.Z,{primary:!0,loading:this.state.loading,children:"Contribute!"}),(0,c.jsx)(w.Z,{error:!0,header:"Something went wrong!",content:this.state.errorMessage})]})}}]),r}(h.Component),y=C,_=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"renderCards",value:function(){var e=this.props,t=e.balance,r=e.manager,n=e.minimumContribution,a=e.requestsCount,s=e.approversCount,i=[{header:f.Z.utils.fromWei(t,"ether")+" ETH",description:"The amount in Ether that this campaign has raised",meta:"Total Raised"},{header:r,description:"The creator of the campaign who can create requests",meta:"Address of manager",style:{overflowWrap:"break-word"}},{header:f.Z.utils.fromWei(n,"ether")+" ETH",description:"The minimum ammount that the owner of the campaign has set for a contribution",meta:"Minimum Contribution"},{header:a,description:"The total of requests that the campaign owner has created",meta:"Requests"},{header:s,description:"The total number of people who have donated to tgis campaign",meta:"Contributors"}];return(0,c.jsx)(l.Z.Group,{items:i})}},{key:"render",value:function(){return(0,c.jsxs)(p.Z,{children:[(0,c.jsx)(x.Link,{legacyBehavior:!0,route:"/",children:(0,c.jsx)("a",{children:"< Go Back"})}),(0,c.jsx)("h3",{children:"Campaign Details"}),(0,c.jsx)(d.Z,{children:(0,c.jsxs)(d.Z.Row,{children:[(0,c.jsxs)(d.Z.Column,{width:12,children:[this.renderCards(),(0,c.jsx)("br",{}),(0,c.jsx)(x.Link,{legacyBehavior:!0,route:"/campaigns/".concat(this.props.address,"/requests"),children:(0,c.jsx)("a",{children:(0,c.jsx)(m.Z,{primary:!0,children:"View Requests"})})})]}),(0,c.jsx)(d.Z.Column,{width:4,children:(0,c.jsx)(y,{address:this.props.address})})]})})]})}}],[{key:"getInitialProps",value:function(e){return(0,n.Z)((function(){var t;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,g.Z)(e.query.address).methods.getSummary().call()];case 1:return t=r.sent(),[2,{address:e.query.address,minimumContribution:t[0],balance:t[1],requestsCount:t[2],approversCount:t[3],manager:t[4]}]}}))}))()}}]),r}(h.Component),k=_}},function(e){e.O(0,[774,714,676,578,299,991,888,179],(function(){return t=8731,e(e.s=t);var t}));var t=e.O();_N_E=t}]);